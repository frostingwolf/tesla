<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport"
	content="width=device-width, initial-scale=1.0, maximum-scale=1.0"/>
<meta name="ctx" th:content="${#httpServletRequest.getContextPath()}" />
<title>Tesla</title>
<meta name="keywords" content="Tesla网关管理"/>
<meta name="description" content="Tesla网关管理"/>
<link href="/css/bootstrap.min.css" rel="stylesheet"/>
<link href="/css/font-awesome.css?v=4.4.0" rel="stylesheet"/>
<link href="/css/animate.css" rel="stylesheet"/>
<link href="/css/style.css" rel="stylesheet"/>
<link href="/css/login.css" rel="stylesheet"/>
<script>
        if (window.top !== window.self) {
            window.top.location = window.location;
        }
    </script>
</head>

<body class="signin">
	<div class="signinpanel">
		<div class="row">
			<div class="col-sm-7">
				<div class="signin-info">
					<div class="logopanel m-b">
						<h1>Saluki GateWay</h1>
					</div>
					<div class="m-b"></div>
					<h3>
						欢迎使用 <strong>Saluki 网关管理系统</strong>
					</h3>
					<ul class="m-b">
						<li><i class="fa fa-arrow-circle-o-right m-r-xs"></i>服务路由</li>
						<li><i class="fa fa-arrow-circle-o-right m-r-xs"></i>协议转换</li>
						<li><i class="fa fa-arrow-circle-o-right m-r-xs"></i>服务限流</li>
						<li><i class="fa fa-arrow-circle-o-right m-r-xs"></i>服务隔离</li>
						<li><i class="fa fa-arrow-circle-o-right m-r-xs"></i>服务鉴权</li>
						<li><i class="fa fa-arrow-circle-o-right m-r-xs"></i>服务灰度</li>
						<li><i class="fa fa-arrow-circle-o-right m-r-xs"></i>服务日志</li>
						<li><i class="fa fa-arrow-circle-o-right m-r-xs"></i>服务文档</li>

					</ul>
				</div>
			</div>
			<div class="col-sm-5">
				<form id="signupForm" action="/oauth/authorize" method="post">
					<h3 class="text-center">用户登录</h3>
					<p class="m-t-md text-center">欢迎登录网关后台管理系统</p>
					<input type="text" name="username" class="form-control uname" value="admin" /> 
				    <input type="password" name="password" class="form-control pword m-b" value="admin" />
					<input type="hidden" name="client_id" th:value="${#httpServletRequest.getParameter('client_id')}" />
					<input type="hidden" name="scope" th:value="${#httpServletRequest.getParameter('scope')}" /> 
					<input type="hidden" name="response_type" th:value="${#httpServletRequest.getParameter('response_type')}" />
					<input type="hidden" name="redirect_uri" th:value="${#httpServletRequest.getParameter('redirect_uri')}" /> 
					<input type="hidden" name="state" th:value="${#httpServletRequest.getParameter('state')}" /> 
					<input type="hidden" name="client_secret" th:value="${#httpServletRequest.getParameter('client_secret')}" />
					<p style="color:red;" th:text="${#httpServletRequest.getAttribute('oauth_login_error')}"></p>
					<button class="btn btn-login btn-block">登录</button>
					<div class="outside-login">
						<div class="outside-login-tit">
							<span>代码链接</span>
						</div>
						<div class="outside-login-cot">
							<a
								class="outside-login-btn wxoa actived git J-btnSwitchLoginType"
								target="_Blank" href="https://github.com/venus-boot/saluki">
								<em><i class="fa fa-github"></i></em> <span>GitHub仓库</span>
							</a>
						</div>
					</div>
				</form>
			</div>
		</div>
		<div class="signup-footer">
			<div class="pull-left">&copy; 2017 All Rights Reserved. Tesla</div>
		</div>
	</div>
	<script th:inline="javascript"> var ctx = [[@{/}]] ; </script>
	<script src="/js/jquery.min.js?v=2.1.4"
		th:src="@{/js/jquery.min.js?v=2.1.4}"></script>
	<script src="/js/bootstrap.min.js?v=3.3.6"
		th:src="@{/js/bootstrap.min.js?v=3.3.6}"></script>
	<script src="/js/content.js?v=1.0.0" th:src="@{/js/content.js?v=1.0.0}"></script>
	<script src="/js/plugins/validate/jquery.validate.min.js"
		th:src="@{/js/plugins/validate/jquery.validate.min.js}"></script>
	<script src="/js/plugins/validate/messages_zh.min.js"
		th:src="@{/js/plugins/validate/messages_zh.min.js}"></script>
	<script src="/js/plugins/layer/layer.min.js"
		th:src="@{/js/plugins/layer/layer.min.js}"></script>
	<script type="text/javascript">
    $(document).ready(function () {
        validateRule();

    });
    $.validator.setDefaults({
        submitHandler: function () {
        	 $('#signupForm').submit();
        }
    });

    function validateRule() {
        var icon = "<i class='fa fa-times-circle'></i> ";
        $("#signupForm").validate({
            rules: {
                username: {
                    required: true
                },
                password: {
                    required: true
                }
            },
            messages: {
                username: {
                    required: icon + "请输入您的用户名",
                },
                password: {
                    required: icon + "请输入您的密码",
                }
            }
        })
    }
</script>
</body>
</html>
